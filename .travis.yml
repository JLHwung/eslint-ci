language: node_js

cache: yarn
matrix:
  fast_finish: true
  include:
  - node_js: 8
    env: ESLINT_VERSION=4
  - node_js: 8
    env: ESLINT_VERSION=3

before_install: yarn global add greenkeeper-lockfile@1
before_script:
- greenkeeper-lockfile-update

script:
- npm test
- npm uninstall eslint-config-prettier
- npm install eslint@$ESLINT_VERSION
- npm run test:integration

after_script: greenkeeper-lockfile-upload
